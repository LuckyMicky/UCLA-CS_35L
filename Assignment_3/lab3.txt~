CS_35L Fall2017 lab3.txt
TA: Isha Verma
Daxuan Shu
204853061


1.Grab Coreutils 7.6
$ wget ftp://ftp.gnu.org/gnu/coreutils/coreutils-7.6.tar.gz

2.Extract the .tar.gz file 
$ tar xvzf coreutils-7.6.tar.gz

3.Go into the folder created
$ cd coreutils-7.6/

4.Read the Install file
$ emacs Install

 I know that --prefix flag allows me to install to a specific folder rather 
than the default /usr/bin

5. Configue the code and make it installed to my required directory

I first created a directory called coreutilsInstall in my home directory ~
$ cd ~
$ mkdir coreutilsInstall
Then I got the current path by using pwd
$ pwd
Output:
/u/ee/ugrad/daxuan/coreutilsInstall


Then I run the configure command in my coreutils-7.6/ folder 

$ ./configure --prefix=/u/ee/ugrad/daxuan/coreutilsInstall

6. compile the program (also inside coreutils-7.6/ folder)

$ make
$ make install

7. set the locale parameter LC_ALL to the problmatic en_US.UTF-8

$ export LC_ALL='en_US.UTF-8'

8. Check the bug inside the new created ls command

First, go into the coreutilsInstall directoy that I created under the home 
directory.

$ cd ~/coreutilsInstall

I want to have a look at what I just created after I run the configure, make 
and make install commands

$ ls

Output:
bin  lib  share

Thus there are 3 directories inside the coreutilsInstall directory. The new
installed ls command should be inside the bin directory.

Then, go to the bin folder and check the problematic ls command
$ cd bin
$ ./ls -l /bin/bash

Output:
-rwxr-xr-x 1 root root 960632 2017-08-03 06:36 /bin/bash

I can see the output format is YYYY-MM-DD instead of the traditional Unix date.

Note: To call the "buggy" ls command inside the directory, use ./ls instead of 
ls. If I use the default ls command in my /usr/bin directory

$ ls -l /bin/bash
Output :
-rwxr-xr-x 1 root root 960632 Aug  3 06:36 /bin/bash
 
9. Create the patch

$ vim patch.diff

and then copied and pasted Brady's patch into it.

Note: using vim instead of emacs for the patch file because emacs might perform
unnomally by coping the codes from the browser.


